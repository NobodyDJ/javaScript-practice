<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    const testArr = [1,2,3,4];
    const testObj = [{a:1},{a:2},{a:3},{a:4}];
    Array.prototype.reduceFind = function(callback){
        return this.reduce((acc,cur,index,array)=>{
            if(callback(cur, index, array)){
                // 保证初始赋值一开始是空的
                if(acc instanceof Array && acc.length == 0){
                    acc = cur
                }
            }
            if((index == array.length - 1)&& acc instanceof Array && acc.length == 0){
                acc = undefined;
            }
            return acc;
        },[])
    }
    console.log(testArr.reduceFind(item => item % 2 == 0));
    // 统计数组中每个元素出现的个数
    // 使用了数组的思想进行归类，将值作为索引，值进行统计
    const testArr1 = [1, 3, 4, 1, 3, 2, 9, 8, 5, 3, 2, 0, 12, 10];
    let result = testArr1.reduce((acc,cur)=>{
        if(!(cur in acc)){
            acc[cur] = 1;
        }else{
            acc[cur] += 1;
        }
        return acc
    },{})
    console.log(result);
    const bills = [
        { type: 'shop', money: 223},
        { type: 'study', money: 341 },
        { type: 'shop', money: 821 },
        { type: 'transfer', money: 821 },
        { type: 'study', money: 821 }
    ];
    let result1 = bills.reduce((acc, cur)=>{
        if(!acc[cur.type]){
            acc[cur.type] = [];
        }
        acc[cur.type].push(cur);
        return acc;
    },{})
    console.log(result1);
    // 求最大值与最小值,将第一参数当作一个指针来用，用来实时记录遍历下当下的最大值或最小值
    const testArr3 = [
        { age: 20 },
        { age: 21 },
        { age: 22 },
        { age: 19 },
        { age: 23 }
    ]
    let result2 = testArr3.reduce((acc,cur)=>{
        if(!acc){
            acc = cur;
            return acc;
        }
        if(acc.age < cur.age){
            acc = cur;
            return acc;
        }
        return acc
    },0)
    console.log(result2);
</script>
</html>